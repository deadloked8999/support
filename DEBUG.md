# Инструкция по отладке бота на сервере

## 1. Проверьте ВСЕ логи (без фильтра):

```bash
journalctl -u starlink_bot -n 200 --no-pager
```

Это покажет последние 200 строк логов. Ищите сообщения типа:
- "Инициализация базы данных..."
- "База данных инициализирована"
- "Создание Application..."
- "Application создан"
- "Настройка job_queue..."
- "Регистрация обработчиков..."
- "Бот запущен..."
- Или любые ошибки

## 2. Проверьте текущий статус:

```bash
systemctl status starlink_bot -l
```

## 3. Попробуйте запустить бота вручную (чтобы увидеть ошибки в реальном времени):

```bash
cd /opt/bots/starlink_bot
source venv/bin/activate
python main.py
```

Если бот запустится, вы увидите все print-сообщения прямо в консоли.
Если будет ошибка, вы сразу её увидите.

## 4. Проверьте, что файл main.py существует и доступен:

```bash
cd /opt/bots/starlink_bot
ls -la main.py
cat main.py | head -40
```

## 5. Проверьте права доступа к базе данных:

```bash
ls -la bot_data.db
```

## 6. Проверьте конфигурацию systemd сервиса:

```bash
cat /etc/systemd/system/starlink_bot.service
```

Убедитесь, что там указан правильный путь к Python и рабочая директория.

